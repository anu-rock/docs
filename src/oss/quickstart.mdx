---
title: LangGraph quickstart
sidebarTitle: Quickstart
---




This guide shows you how to set up and use LangGraph's **prebuilt**, **reusable** components, which are designed to help you construct agentic systems quickly and reliably.

## Prerequisites

Before you start this tutorial, ensure you have the following:

* An [Anthropic](https://console.anthropic.com/settings/keys) API key

## 1. Install dependencies

If you haven't already, install LangGraph and LangChain:

:::python
```
pip install -U langgraph "langchain[anthropic]"
```

<Info>
  LangChain is installed so the agent can call the [model](https://python.langchain.com/docs/integrations/chat/).
</Info>
:::

:::js
```bash
npm install @langchain/langgraph @langchain/core @langchain/anthropic
```

<Info>
  LangChain is installed so the agent can call the [model](https://js.langchain.com/docs/integrations/chat/).
</Info>
:::

## 2. Create an agent

:::python
To create an agent, use @[`create_react_agent`][create_react_agent]:

```python
from langgraph.prebuilt import create_react_agent

def get_weather(city: str) -> str:  # (+) Define a tool for the agent to use. Tools can be defined as vanilla Python functions.
    """Get weather for a given city."""
    return f"It's always sunny in {city}!"

agent = create_react_agent( 
    model="anthropic:claude-3-7-sonnet-latest",  # (+) Provide a language model for the agent to use.
    tools=[get_weather],  # (+) Provide a list of tools for the model to use.
    prompt="You are a helpful assistant"  # (+) Provide a system prompt (instructions) to the language model used by the agent.
)

# Run the agent
agent.invoke(
    {"messages": [{"role": "user", "content": "what is the weather in sf"}]}
)
```

:::

:::js
To create an agent, use [`createReactAgent`](https://langchain-ai.github.io/langgraphjs/reference/functions/langgraph_prebuilt.createReactAgent.html):

```typescript
import { ChatAnthropic } from "@langchain/anthropic";
import { createReactAgent } from "@langchain/langgraph/prebuilt";
import { tool } from "@langchain/core/tools";
import { z } from "zod";

const getWeather = tool(
  // (+) Define a tool for the agent to use. Tools can be defined using the tool function.
  async ({ city }) => {
    return `It's always sunny in ${city}!`;
  },
  {
    name: "get_weather",
    description: "Get weather for a given city.",
    schema: z.object({
      city: z.string().describe("The city to get weather for"),
    }),
  }
);

const agent = createReactAgent({
  llm: new ChatAnthropic({ model: "anthropic:claude-3-5-sonnet-latest" }), // (+) Provide a language model for the agent to use.
  tools: [getWeather], // (+) Provide a list of tools for the model to use.
  stateModifier: "You are a helpful assistant", // (+) Provide a system prompt (instructions) to the language model used by the agent.
});

// Run the agent
await agent.invoke({
  messages: [{ role: "user", content: "what is the weather in sf" }],
});
```

:::

## 3. Configure an LLM

:::python
To configure an LLM with specific parameters, such as temperature, use [init_chat_model](https://python.langchain.com/api_reference/langchain/chat_models/langchain.chat_models.base.init_chat_model.html):

```python {highlight={4,6,10}}
from langchain.chat_models import init_chat_model
from langgraph.prebuilt import create_react_agent

model = init_chat_model(
    "anthropic:claude-3-7-sonnet-latest",
    temperature=0
)

agent = create_react_agent(
    model=model,
    tools=[get_weather],
)
```
:::

:::js
To configure an LLM with specific parameters, such as temperature, use a model instance:

```javascript {highlight={4,6,10}}
import { ChatAnthropic } from "@langchain/anthropic";
import { createReactAgent } from "@langchain/langgraph/prebuilt";

const model = new ChatAnthropic({
  model: "claude-3-5-sonnet-latest",
  temperature: 0,
});

const agent = createReactAgent({
  llm: model,
  tools: [getWeather],
});
```
:::

For more information on how to configure LLMs, see [Models](/oss/models).

## 4. Add a custom prompt

Prompts instruct the LLM how to behave. Add one of the following types of prompts:

* **Static**: A string is interpreted as a **system message**.
* **Dynamic**: A list of messages generated at **runtime**, based on input or configuration.

<Tabs>
  <Tab title="Static prompt">
    Define a fixed prompt string or list of messages:
    
    :::python
    ```python {highlight={7}}
    from langgraph.prebuilt import create_react_agent
    
    agent = create_react_agent(
        model="anthropic:claude-3-7-sonnet-latest",
        tools=[get_weather],
        # A static prompt that never changes
        prompt="Never answer questions about the weather."
    )
    
    agent.invoke(
        {"messages": [{"role": "user", "content": "what is the weather in sf"}]}
    )
```
    :::
    
    :::js
    ```python {highlight={8}}
    import { createReactAgent } from "@langchain/langgraph/prebuilt";
    import { ChatAnthropic } from "@langchain/anthropic";
    
    const agent = createReactAgent({
      llm: new ChatAnthropic({ model: "anthropic:claude-3-5-sonnet-latest" }),
      tools: [getWeather],
      // A static prompt that never changes
      stateModifier: "Never answer questions about the weather."
    });
    
    await agent.invoke({
      messages: [{ role: "user", content: "what is the weather in sf" }]
    });
```
    :::
  </Tab>
  <Tab title="Dynamic prompt">
    :::python
    Define a function that returns a message list based on the agent's state and configuration:
    
    ```python {highlight={6,14,19}}
    from langchain_core.messages import AnyMessage
    from langchain_core.runnables import RunnableConfig
    from langgraph.prebuilt.chat_agent_executor import AgentState
    from langgraph.prebuilt import create_react_agent
    
    def prompt(state: AgentState, config: RunnableConfig) -> list[AnyMessage]:  # (+) Dynamic prompts allow including non-message context when constructing an input to the LLM.
        user_name = config["configurable"].get("user_name")
        system_msg = f"You are a helpful assistant. Address the user as {user_name}."
        return [{"role": "system", "content": system_msg}] + state["messages"]
    
    agent = create_react_agent(
        model="anthropic:claude-3-7-sonnet-latest",
        tools=[get_weather],
        prompt=prompt
    )
    
    agent.invoke(
        {"messages": [{"role": "user", "content": "what is the weather in sf"}]},
        config={"configurable": {"user_name": "John Smith"}}
    )
```
    :::
    
    :::js
    Define a function that returns messages based on the agent's state and configuration:
    
    ```python {highlight={5,14,19}}
    import { type BaseMessageLike } from "@langchain/core/messages";
    import { type RunnableConfig } from "@langchain/core/runnables";
    import { createReactAgent } from "@langchain/langgraph/prebuilt";
    
    const dynamicPrompt = (state: { messages: BaseMessageLike[] }, config: RunnableConfig): BaseMessageLike[] => {  // (+) Dynamic prompts allow including non-message context when constructing an input to the LLM.
      const userName = config.configurable?.user_name;
      const systemMsg = `You are a helpful assistant. Address the user as ${userName}.`;
      return [{ role: "system", content: systemMsg }, ...state.messages];
    };
    
    const agent = createReactAgent({
      llm: "anthropic:claude-3-5-sonnet-latest",
      tools: [getWeather],
      stateModifier: dynamicPrompt
    });
    
    await agent.invoke(
      { messages: [{ role: "user", content: "what is the weather in sf" }] },
      { configurable: { user_name: "John Smith" } }
    );
```
    :::
  </Tab>
</Tabs>

For more information, see [Context](/oss/context).

## 5. Add memory

To allow multi-turn conversations with an agent, you need to enable [persistence](/oss/persistence) by providing a checkpointer when creating an agent. At runtime, you need to provide a config containing `thread_id` â€” a unique identifier for the conversation (session):

:::python
```python {highlight={4,9,13,16,20}}
from langgraph.prebuilt import create_react_agent
from langgraph.checkpoint.memory import InMemorySaver

checkpointer = InMemorySaver()

agent = create_react_agent(
    model="anthropic:claude-3-7-sonnet-latest",
    tools=[get_weather],
    checkpointer=checkpointer  # (+) Checkpointer allows the agent to store its state at every step in the tool calling loop.
)

# Run the agent
config = {"configurable": {"thread_id": "1"}}
sf_response = agent.invoke(
    {"messages": [{"role": "user", "content": "what is the weather in sf"}]},
    config  # (+) Pass configuration with thread_id to resume the same conversation on future agent invocations.
)
ny_response = agent.invoke(
    {"messages": [{"role": "user", "content": "what about new york?"}]},
    config
)
```

:::

:::js
```javascript {highlight={4,9,13,16,20}}
import { createReactAgent } from "@langchain/langgraph/prebuilt";
import { MemorySaver } from "@langchain/langgraph";

const checkpointer = new MemorySaver();

const agent = createReactAgent({
  llm: "anthropic:claude-3-5-sonnet-latest",
  tools: [getWeather],
  checkpointSaver: checkpointer, // (+) CheckpointSaver allows the agent to store its state at every step in the tool calling loop.
});

// Run the agent
const config = { configurable: { thread_id: "1" } };
const sfResponse = await agent.invoke(
  { messages: [{ role: "user", content: "what is the weather in sf" }] },
  config // (+) Pass configuration with thread_id to resume the same conversation on future agent invocations.
);
const nyResponse = await agent.invoke(
  { messages: [{ role: "user", content: "what about new york?" }] },
  config
);
```

:::

:::python
When you enable the checkpointer, it stores agent state at every step in the provided checkpointer database (or in memory, if using `InMemorySaver`).
:::

:::js
When you enable the checkpointer, it stores agent state at every step in the provided checkpointer database (or in memory, if using `MemorySaver`).
:::

Note that in the above example, when the agent is invoked the second time with the same `thread_id`, the original message history from the first conversation is automatically included, together with the new user input.

For more information, see [Memory](/oss/add-memory).

## 6. Configure structured output

:::python
To produce structured responses conforming to a schema, use the `response_format` parameter. The schema can be defined with a `Pydantic` model or `TypedDict`. The result will be accessible via the `structured_response` field.

```python {highlight={10,17}}
from pydantic import BaseModel
from langgraph.prebuilt import create_react_agent

class WeatherResponse(BaseModel):
    conditions: str

agent = create_react_agent(
    model="anthropic:claude-3-7-sonnet-latest",
    tools=[get_weather],
    response_format=WeatherResponse  # (+) When response_format is provided, a separate step is added at the end of the agent loop.
)

response = agent.invoke(
    {"messages": [{"role": "user", "content": "what is the weather in sf"}]}
)

response["structured_response"]
```

:::

:::js
To produce structured responses conforming to a schema, use the `responseFormat` parameter. The schema can be defined with a `Zod` schema. The result will be accessible via the `structuredResponse` field.

```typescript {highlight={11,18}}
import { z } from "zod";
import { createReactAgent } from "@langchain/langgraph/prebuilt";

const WeatherResponse = z.object({
  conditions: z.string(),
});

const agent = createReactAgent({
  llm: "anthropic:claude-3-5-sonnet-latest",
  tools: [getWeather],
  responseFormat: WeatherResponse, // (+) When responseFormat is provided, a separate step is added at the end of the agent loop.
});

const response = await agent.invoke({
  messages: [{ role: "user", content: "what is the weather in sf" }],
});

response.structuredResponse;
```

:::

<Note>
  **LLM post-processing**
  Structured output requires an additional call to the LLM to format the response according to the schema.
</Note>

## Next steps

* [Deploy your agent locally](/oss/local-server)
* [Learn more about prebuilt agents](/oss/agentic-architectures)
* [LangGraph Platform quickstart](/langgraph-platform/quick-start-studio)
